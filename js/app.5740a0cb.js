(function(e){function t(t){for(var r,o,u=t[0],l=t[1],i=t[2],p=0,d=[];p<u.length;p++)o=u[p],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==c[l]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/jsExercismCourse/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1120:function(e,t,n){"use strict";n("c3cd")},"12e9":function(e,t,n){},"16ff":function(e,t,n){"use strict";n("3443")},"17ff":function(e,t,n){"use strict";n("12e9")},"1a3e":function(e,t,n){"use strict";n("68fe")},3443:function(e,t,n){},"543a":function(e,t,n){},"590d":function(e,t,n){},"68fe":function(e,t,n){},"78d5":function(e,t,n){"use strict";n("be59")},bd8c:function(e,t,n){"use strict";n("543a")},be59:function(e,t,n){},c3cd:function(e,t,n){},c5ee:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,o){var u=Object(r["resolveComponent"])("Game"),l=Object(r["resolveComponent"])("ChangeName");return e.username?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,username:e.username,onResetUsername:t[1]||(t[1]=function(t){return e.username=""})},null,8,["username"])):(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,username:e.username,"onUpdate:username":t[2]||(t[2]=function(t){return e.username=t})},null,8,["username"]))}n("d81d");var a=Object(r["withScopeId"])("data-v-bc28a8c0");Object(r["pushScopeId"])("data-v-bc28a8c0");var o={class:"game"};Object(r["popScopeId"])();var u=a((function(e,t,n,c,u,l){var i=Object(r["resolveComponent"])("UserBar"),s=Object(r["resolveComponent"])("Counter"),p=Object(r["resolveComponent"])("Flag"),d=Object(r["resolveComponent"])("TimeCounter"),f=Object(r["resolveComponent"])("ResetButton"),b=Object(r["resolveComponent"])("Board");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])(i,{update:e.updateUserBar,"onUpdate:update":t[1]||(t[1]=function(t){return e.updateUserBar=t}),username:e.username,onResetUsername:t[2]||(t[2]=function(t){return e.$emit("reset-username")})},null,8,["update","username"]),Object(r["createVNode"])(s,{clickCounter:e.clickCounter},null,8,["clickCounter"]),Object(r["createVNode"])(s,{clickCounter:e.flagDisplay},{icon:a((function(){return[Object(r["createVNode"])(p)]})),_:1},8,["clickCounter"]),Object(r["createVNode"])(d,{time:e.timeCounter,"onUpdate:time":t[3]||(t[3]=function(t){return e.timeCounter=t}),start:e.startCounter},null,8,["time","start"]),Object(r["createVNode"])(f,{onClick:e.resetGame,stillPlay:e.stillPlay,winGame:e.winGame},null,8,["onClick","stillPlay","winGame"]),Object(r["createVNode"])(b,{class:"mt-10px",onLoseGame:e.lostGame,onWinGame:e.onWinGame,clickCounter:e.clickCounter,"onUpdate:clickCounter":t[4]||(t[4]=function(t){return e.clickCounter=t}),flagCounter:e.flagCounter,"onUpdate:flagCounter":t[5]||(t[5]=function(t){return e.flagCounter=t}),map:e.map,stillPlay:e.stillPlay},null,8,["onLoseGame","onWinGame","clickCounter","flagCounter","map","stillPlay"])])})),l=(n("4d90"),n("d3b7"),n("25f0"),Object(r["withScopeId"])("data-v-f0514e06")),i=l((function(e,t,n,c,a,o){var u=Object(r["resolveComponent"])("Map");return Object(r["openBlock"])(),Object(r["createBlock"])(u,{map:e.board,onClickCell:e.onCellClick,onRightClick:e.toggleFlag},null,8,["map","onClickCell","onRightClick"])})),s=(n("a9e3"),n("13d5"),n("159b"),n("ade3")),p=Object(r["withScopeId"])("data-v-ab0a48aa"),d=p((function(e,t,n,c,a,o){var u=Object(r["resolveComponent"])("Flag");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.map,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"map__row",key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,c){var a=t.value,o=t.hidden,l=t.flag;return Object(r["openBlock"])(),Object(r["createBlock"])("span",{class:["map__cell",Object(s["a"])({"map__cell--hidden":o},"map__cell--value-"+a,!o)],key:c,onClick:function(t){return e.$emit("clickCell",c,n)},onContextmenu:Object(r["withModifiers"])((function(t){return e.$emit("rightClick",c,n)}),["prevent"])},[o?l?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:1,class:"map__cell-flag"})):Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[Object(r["createTextVNode"])(Object(r["toDisplayString"])("*"===a?"üí£":a),1)],64))],42,["onClick","onContextmenu"])})),128))])})),128))])})),f={height:"512",viewBox:"0 0 34 34",width:"512",xmlns:"http://www.w3.org/2000/svg"},b=Object(r["createVNode"])("path",{d:"M26.3 10c0 .4-.2.7-.5.9l-13.2 7.7V31h2c.5 0 1 .5 1 1 0 .6-.5 1-1 1h-6c-.6 0-1-.4-1-1 0-.5.4-1 1-1h2V2c0-.4.3-.7.5-.9 0-.1.8-.2 1 0h.1l13.6 8c.3.2.5.6.5.9z"},null,-1);function m(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("svg",f,[b])}const v={};v.render=m;var j=v,O=Object(r["defineComponent"])({name:"Map",components:{Flag:j},props:{map:Array},emits:["clickCell","rightClick"]});n("78d5");O.render=d,O.__scopeId="data-v-ab0a48aa";var C=O,k=n("2909"),g=(n("ac1f"),n("1276"),n("a15b"),n("5319"),function(e){return B(e.value).map((function(e){return e.split("").map((function(e){return{value:e,hidden:!0,flag:!1}}))}))}),h=function e(t,n,r){var c=t[n][r];if(!c.flag&&c.hidden&&(c.hidden=!1," "===c.value))for(var a=-1;a<2;++a)for(var o=-1;o<2;++o)n+a<0||r+o<0||n+a>=t.length||r+o>=t[0].length||0===a&&0===o||c.flag||e(t,n+a,r+o)},y=function(e){e.forEach((function(e){e.forEach((function(e){"*"===e.value&&(e.hidden=!1)}))}))};function w(e,t,n){var r=e.split(""),c=isNaN(parseInt(r[t]))?0:parseInt(r[t]);return r[t]=(c+n).toString(),r.join("")}var B=function(e){var t=Object(k["a"])(e);return e.forEach((function(n,r){for(var c=0;c<n.length;++c)if(" "===n[c])for(var a=-1;a<2;++a)if(1===a&&r!==e.length-1||-1===a&&0!==r||0===a){var o=e[r+a],u=o.substring(c-1,c+2).replace(/ /g,"").length;if(!u)continue;t[r]=w(t[r],c,u)}})),t},S=Object(r["defineComponent"])({name:"Board",props:{map:{type:Array,required:!0},clickCounter:{type:Number,required:!0},flagCounter:{type:Number,required:!0},stillPlay:{type:Boolean,required:!0}},emits:["update:clickCounter","update:flagCounter","loseGame","winGame"],components:{Map:C},setup:function(e,t){var n=t.emit,c=Object(r["toRefs"])(e),a=c.map,o=c.clickCounter,u=c.flagCounter,l=c.stillPlay,i=Object(r["ref"])(g(a)),s=Object(r["computed"])((function(){return i.value.reduce((function(e,t){return t.forEach((function(t){return t.hidden&&e.push(t)})),e}),[]).length})),p=Object(r["computed"])((function(){return i.value.reduce((function(e,t){return t.forEach((function(t){return"*"===t.value&&++e})),e}),0)}));Object(r["watch"])(a,(function(){return i.value=g(a)})),Object(r["watch"])(s,(function(){return s.value===p.value&&n("winGame")}));var d=function(e,t){if(l.value){var r=i.value[t][e];r.hidden&&(r.flag?(r.flag=!1,n("update:flagCounter",u.value+1)):u.value>0&&(r.flag=!0,n("update:flagCounter",u.value-1)))}},f=function(e,t){if(l.value){var r=i.value[t][e];"*"===r.value&&(n("loseGame"),y(i.value)),!r.flag&&r.hidden&&(n("update:clickCounter",o.value+1),h(i.value,t,e))}};return{board:i,onCellClick:f,toggleFlag:d}}});S.render=i,S.__scopeId="data-v-f0514e06";var _=S,N=Object(r["withScopeId"])("data-v-3b357a86");Object(r["pushScopeId"])("data-v-3b357a86");var V={class:"bar"},I={key:0};Object(r["popScopeId"])();var G=N((function(e,t,n,c,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",V,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("button",{type:"button",onClick:t[1]||(t[1]=function(t){return e.$emit("reset-username")})},"‚úé"),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.username),1)]),!e.areStatsLoading&&e.stats?(Object(r["openBlock"])(),Object(r["createBlock"])("div",I," üïì "+Object(r["toDisplayString"])(e.stats.avgWinTime)+" üèÜ "+Object(r["toDisplayString"])(e.stats.wins)+" üòµ "+Object(r["toDisplayString"])(e.stats.losses),1)):Object(r["createCommentVNode"])("",!0)])})),P=n("f786"),x=n("bc3a"),M=n.n(x),U=M.a.create({baseURL:"/api"}),q=Object(r["defineComponent"])({name:"UserBar",events:["reset-username","update:update"],props:{username:{type:String,required:!0},update:{type:Boolean,required:!0}},setup:function(e,t){var n=Object(r["toRefs"])(e),c=n.update,a=Object(r["ref"])(),o=Object(r["ref"])();return Object(r["watch"])(c,(function(e){if(console.log(e),e)var n=Object(P["a"])("/stats",U),c=n.data,u=n.isFinished,l=Object(r["watch"])(u,(function(e){o.value=e,a.value=c.value,e&&(l(),t.emit("update:update",!1))}),{immediate:!0})}),{immediate:!0}),{areStatsLoading:o,stats:a}}});n("17ff");q.render=G,q.__scopeId="data-v-3b357a86";var T=q,R=Object(r["withScopeId"])("data-v-62f46a6a");Object(r["pushScopeId"])("data-v-62f46a6a");var D={class:"click-counter"},F={key:0,class:"click-counter--icon"};Object(r["popScopeId"])();var $=R((function(e,t,n,c,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",D,[e.$slots.icon?(Object(r["openBlock"])(),Object(r["createBlock"])("div",F,[Object(r["renderSlot"])(e.$slots,"icon",{},void 0,!0)])):Object(r["createCommentVNode"])("",!0),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.clickCounter),1)])})),A=Object(r["defineComponent"])({name:"Counter",props:{clickCounter:{type:[Number,String],required:!0}}});n("1a3e");A.render=$,A.__scopeId="data-v-62f46a6a";var L=A,E=Object(r["withScopeId"])("data-v-a4d6bc5c"),W=E((function(e,t,n,c,a,o){var u=Object(r["resolveComponent"])("Clock"),l=Object(r["resolveComponent"])("Counter");return Object(r["openBlock"])(),Object(r["createBlock"])(l,{class:"time-display",clickCounter:e.formattedTime},{icon:E((function(){return[Object(r["createVNode"])(u)]})),_:1},8,["clickCounter"])})),z={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},J=Object(r["createVNode"])("path",{d:"M347.216 301.211l-71.387-53.54V138.609c0-10.966-8.864-19.83-19.83-19.83-10.966 0-19.83 8.864-19.83 19.83v118.978c0 6.246 2.935 12.136 7.932 15.864l79.318 59.489a19.713 19.713 0 0011.878 3.966c6.048 0 11.997-2.717 15.884-7.952 6.585-8.746 4.8-21.179-3.965-27.743z"},null,-1),Y=Object(r["createVNode"])("path",{d:"M256 0C114.833 0 0 114.833 0 256s114.833 256 256 256 256-114.833 256-256S397.167 0 256 0zm0 472.341c-119.275 0-216.341-97.066-216.341-216.341S136.725 39.659 256 39.659c119.295 0 216.341 97.066 216.341 216.341S375.275 472.341 256 472.341z"},null,-1);function H(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("svg",z,[J,Y])}const K={};K.render=H;var Q=K,X=function(e){var t=e%60,n=(e-t)/60;return n.toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")},Z=Object(r["defineComponent"])({name:"TimeCounter",props:{time:{type:Number,required:!0},start:{type:Number,required:!0}},emits:["update:time"],components:{Counter:L,Clock:Q},setup:function(e,t){var n,c=t.emit,a=Object(r["toRefs"])(e),o=a.time,u=a.start,l=function(){c("update:time",Math.floor((Date.now()-u.value)/1e3))},i=Object(r["computed"])((function(){return X(o.value)}));return Object(r["watch"])(u,(function(){0!==u.value?n=setInterval(l,1e3):clearInterval(n)})),{formattedTime:i}}});n("fd83");Z.render=W,Z.__scopeId="data-v-a4d6bc5c";var ee=Z,te=Object(r["withScopeId"])("data-v-658842c5");Object(r["pushScopeId"])("data-v-658842c5");var ne=Object(r["createVNode"])("div",{class:"reset-button__eye reset-button__eye--left"},null,-1),re=Object(r["createVNode"])("div",{class:"reset-button__eye reset-button__eye--right"},null,-1),ce=Object(r["createVNode"])("div",{class:"reset-button__mouth"},null,-1);Object(r["popScopeId"])();var ae=te((function(e,t,n,c,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("click")}),class:["reset-button",{"reset-button--game-lost":!e.stillPlay&&!e.winGame,"reset-button--game-won":!e.stillPlay&&e.winGame}]},[ne,re,ce],2)})),oe=Object(r["defineComponent"])({name:"ResetButton",emits:["click"],props:{stillPlay:{type:Boolean,required:!0},winGame:{type:Boolean,required:!0}}});n("bd8c");oe.render=ae,oe.__scopeId="data-v-658842c5";var ue=oe,le=(n("cb29"),n("a434"),10),ie=8,se=function(e){for(var t=new Array(ie).fill(0).map((function(){return new Array(ie).fill(" ")})),n=new Array(ie*ie).fill(0).map((function(e,t){return t})),r=0;r<e;++r){var c=Math.floor(Math.random()*n.length),a=n[c],o=Math.floor(a/ie),u=a%ie;t[o][u]="*",n.splice(c,1)}return t.map((function(e){return e.join("")}))},pe=function(e){var t=Object(r["ref"])(se(e.value)),n=function(){return t.value=se(e.value)};return Object(r["watch"])(e,(function(e){return t.value=se(e)})),{map:t,reset:n}},de=Object(r["defineComponent"])({name:"Game",events:["reset-username"],components:{UserBar:T,Board:_,Counter:L,Flag:j,TimeCounter:ee,ResetButton:ue},props:{username:{type:String,required:!0}},setup:function(){var e=Object(r["ref"])(0),t=Object(r["ref"])(0),n=Object(r["ref"])(0),c=Object(r["ref"])(le),a=Object(r["ref"])(le),o=Object(r["computed"])((function(){return c.value.toString().padStart(3,"0")})),u=pe(a),l=u.map,i=u.reset,s=!0,p=Object(r["ref"])(!0),d=Object(r["ref"])(!1),f=Object(r["ref"])(!0);Object(r["watch"])([c,n],(function(){s&&(s=!1,t.value=Date.now())}));var b=function(){t.value=0},m=function(e){var t=Object(P["a"])("/stats/countGame",{method:"POST",data:e},U),n=t.isFinished;Object(r["watch"])(n,(function(e){e&&(f.value=!0)}))},v=function(){p.value=!1,m({won:!1,time:e.value}),b()},j=function(){d.value=!0,p.value=!1,m({won:!0,time:e.value}),b()},O=function(){b(),e.value=0,s=!0},C=function(){i(),O(),p.value=!0,n.value=0,c.value=a.value};return{map:l,clickCounter:n,flagCounter:c,flagDisplay:o,timeCounter:e,resetGame:C,startCounter:t,lostGame:v,stillPlay:p,winGame:d,onWinGame:j,updateUserBar:f}}});n("1120");de.render=u,de.__scopeId="data-v-bc28a8c0";var fe=de,be=Object(r["createVNode"])("button",{type:"submit"},"Save",-1);function me(e,t,n,c,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("form",{onSubmit:t[2]||(t[2]=Object(r["withModifiers"])((function(t){return e.$emit("update:username",e.inputValue)}),["prevent"]))},[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.inputValue=t}),placeholder:"Your username"},null,512),[[r["vModelText"],e.inputValue]]),be],32)}var ve=Object(r["defineComponent"])({name:"ChangeName",events:["update:username"],props:{username:{type:String,required:!0}},setup:function(e){var t=Object(r["toRefs"])(e),n=t.username,c=Object(r["ref"])(n.value);return Object(r["watch"])(n,(function(){return c.value=n.value})),{inputValue:c}}});ve.render=me;var je=ve,Oe=Object(r["defineComponent"])({name:"App",components:{Game:fe,ChangeName:je},setup:function(){return{username:Object(r["ref"])(""),console:console}}});n("16ff"),n("ebd0");Oe.render=c;var Ce=Oe;Object(r["createApp"])(Ce).mount("#app")},ebd0:function(e,t,n){"use strict";n("590d")},fd83:function(e,t,n){"use strict";n("c5ee")}});
//# sourceMappingURL=app.5740a0cb.js.map